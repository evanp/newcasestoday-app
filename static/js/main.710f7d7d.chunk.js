(this["webpackJsonpnew-cases-today-app"]=this["webpackJsonpnew-cases-today-app"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){},13:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);n(10);var a=n(0),s=(n(12),n(13),n(1));function c(e){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{className:"NewCasesToday","data-testid":"new-cases-today",children:["+",e.newCases]}),"(",Object(s.jsxs)("span",{className:"delta","data-testid":"delta",children:[e.delta>=0?"+":"-",Math.abs(e.delta)]}),")"]})}var i=n(2),r=n(4);var l=function(e){var t="Montreal",n=Object(i.c)((function(e){return e.newCases})),l=Object(i.c)((function(e){return e.lastDate})),d=Object(i.c)((function(e){return e.delta})),o=Object(i.c)((function(e){return e.timeline})),u=Object(i.b)();return Object(a.useEffect)((function(){u((function(e){fetch("https://data.newcasestoday.app/city/CA/CA_MTR.csv").then((function(e){return e.text()})).then((function(t){var n=t.split("\n").map((function(e){return e.split(";")})).filter((function(e){return e[0].length>0})),a=n[n.length-1],s=parseInt(a[1],10)-parseInt(n[n.length-2][1],10),c=n.slice(-56).map((function(e){return e[1]}));a&&e({type:"FETCH_NEW_CASES",data:{lastDate:a[0],newCases:parseInt(a[1],10),delta:s,timeline:c}})}))}))})),document.title="New COVID-19 cases in ".concat(t," as of ").concat(l),Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsxs)("div",{className:"App-title",children:["New COVID-19 cases in ",t," as of ",Object(s.jsx)("span",{"data-testid":"last-date",children:l})]}),Object(s.jsx)(c,{newCases:n,delta:d,min:0}),Object(s.jsxs)(r.Sparklines,{data:o,children:[Object(s.jsx)(r.SparklinesCurve,{color:"red"}),Object(s.jsx)(r.SparklinesSpots,{})]})]})})},d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))},o=n(3),u=n(8),j=n(9),p={lastDate:(new Date).toISOString().slice(0,10),newCases:0,delta:0,timeline:[0]};var b=Object(u.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NEW_CASES":return{lastDate:t.data.lastDate,newCases:t.data.newCases,delta:t.data.delta,timeline:t.data.timeline};default:return e}}),Object(u.a)(j.a));Object(o.render)(Object(s.jsx)(i.a,{store:b,children:Object(s.jsx)(l,{})}),document.getElementById("root")),d()}},[[22,1,2]]]);
//# sourceMappingURL=main.710f7d7d.chunk.js.map